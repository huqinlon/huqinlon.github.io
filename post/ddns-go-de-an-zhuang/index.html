<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="yes" name="apple-mobile-web-app-capable" />
<meta content="black" name="apple-mobile-web-app-status-bar-style" />
<meta name="referrer" content="never">
<meta name="keywords" content="">
<meta name="description" content="欢迎访问[Gridea]的个人博客">
<meta name="author" content="kveln">
<title>DDNS-GO的安装 | Gridea</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link
  href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
  rel='stylesheet' type='text/css'>
<link rel="alternate" type="application/rss+xml" title="DDNS-GO的安装 | Gridea » Feed"
  href="https://amiao.ioxoo.top/atom.xml">
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/styles/androidstudio.min.css">
<link href="https://amiao.ioxoo.top/styles/main.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/css/live2d.css">

<script>hljs.initHighlightingOnLoad();</script>

  <meta property="og:description" content="DDNS-GO的安装" />
  <meta property="og:url" content="https://amiao.ioxoo.top/post/ddns-go-de-an-zhuang/" />
  <meta property="og:locale" content="zh-CN" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Gridea" />
  <!-- <script src="../assets/styles/scripts/tocScript.js"></script> -->
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="https://amiao.ioxoo.top">Gridea</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
        <li class="nav-item">
          
          <a class="nav-link" href="/">首页</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/archives">归档</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/tags">标签</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/post/about">关于</a>
          
        </li>
        
        <li class="nav-item">
          <div class="gridea-search-container">
            <form id="gridea-search-form" style="position: relative" data-update="1677332748128"
              action="/search/index.html">
              <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
              <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
  <!-- Page Header -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="https://amiao.ioxoo.top">Gridea</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
        <li class="nav-item">
          
          <a class="nav-link" href="/">首页</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/archives">归档</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/tags">标签</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/post/about">关于</a>
          
        </li>
        
        <li class="nav-item">
          <div class="gridea-search-container">
            <form id="gridea-search-form" style="position: relative" data-update="1677332748128"
              action="/search/index.html">
              <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
              <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
<header class="masthead" style="background-image: url('https://amiao.ioxoo.top/media/images/home-bg.jpg')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        
          <!-- 没Title为其他页面Header -->
          
            <!-- 没Title并且有headerType为Post：文章Header -->
            <div class="post-heading">
              <span class="tags">
                
                <a href="https://amiao.ioxoo.top/tag/S2W-cO4Gq/" class="tag">ddns-go</a>
                
                <a href="https://amiao.ioxoo.top/tag/nVSfPFepMG/" class="tag">linux</a>
                
                <a href="https://amiao.ioxoo.top/tag/OjnCBT0aB/" class="tag">docker</a>
                
              </span>
              <h1>DDNS-GO的安装</h1>
              <span class="meta">
                Posted on
                2023-02-06，5 min read
              </span>
            </div>
          
        
      </div>
    </div>
  </div>
</header>
  <!-- Post Content -->
  <article id="post-content-article">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto post-content-container">
          
          <h1 id="使用的docker">使用的Docker</h1>
<h2 id="jeessyddns-go">jeessy/ddns-go</h2>
<h2 id="简单好用的ddns-支持阿里云dns-腾讯云dnspod-cloudflare-华为云">简单好用的DDNS。支持阿里云DNS、腾讯云dnspod、Cloudflare、华为云</h2>
<h3 id="ddns-go">ddns-go</h3>
<p><a href="https://github.com/jeessy2/ddns-go/releases/latest"><img src="https://img.shields.io/github/release/jeessy2/ddns-go.svg?logo=github&amp;style=flat-square" alt="GitHub release" loading="lazy"></a> <img src="https://goreportcard.com/badge/github.com/jeessy2/ddns-go" alt="img" loading="lazy"> <img src="https://img.shields.io/docker/image-size/jeessy/ddns-go" alt="img" loading="lazy"> <img src="https://img.shields.io/docker/pulls/jeessy/ddns-go" alt="img" loading="lazy"></p>
<p>自动获得你的公网 IPv4 或 IPv6 地址，并解析到对应的域名服务。</p>
<h3 id="特性">特性</h3>
<ul>
<li>支持Mac、Windows、Linux系统，支持ARM、x86架构</li>
<li>支持的域名服务商 <code>Alidns(阿里云)</code> <code>Dnspod(腾讯云)</code> <code>Cloudflare</code> <code>华为云</code> <code>Callback</code></li>
<li>支持接口/网卡获取IP</li>
<li>支持以服务的方式运行(v2.8.0后支持)</li>
<li>默认间隔5分钟同步一次</li>
<li>支持多个域名同时解析，公司必备</li>
<li>支持多级域名</li>
<li>网页中配置，简单又方便，可设置 <code>登录用户名和密码</code> / <code>禁止从公网访问</code></li>
<li>网页中方便快速查看最近50条日志，不需要跑docker中查看</li>
<li>支持webhook</li>
<li>支持TTL</li>
</ul>
<h3 id="系统中使用">系统中使用</h3>
<ul>
<li>下载并解压https://github.com/jeessy2/ddns-go/releases</li>
<li>双击运行, 如没有找到配置, 程序自动打开<a href="http://127.0.0.1:9876/">http://127.0.0.1:9876</a></li>
<li>[可选] 安装服务
<ul>
<li>Mac/Linux: <code>./ddns-go -s install</code></li>
<li>Win(打开cmd): <code>.\ddns-go.exe -s install</code></li>
<li>安装服务也支持 <code>-l</code>监听地址 <code>-f</code>同步间隔时间(秒) <code>-c</code>自定义配置文件路径</li>
</ul>
</li>
<li>[可选] 服务卸载
<ul>
<li>Mac/Linux: <code>./ddns-go -s uninstall</code></li>
<li>Win(打开cmd): <code>.\ddns-go.exe -s uninstall</code></li>
</ul>
</li>
<li>[可选] 支持启动带参数 <code>-l</code>监听地址 <code>-f</code>同步间隔时间(秒) <code>-c</code>自定义配置文件路径。如：<code>./ddns-go -l 127.0.0.1:9876 -f 600 -c /Users/name/ddns-go.yaml</code></li>
</ul>
<h3 id="docker中使用">Docker中使用</h3>
<ul>
<li>
<p>不挂载主机目录, 删除容器同时会删除配置</p>
<pre><code class="language-bash"># host模式, 同时支持IPv4/IPv6
docker run -d --name ddns-go --restart=always --net=host jeessy/ddns-go
</code></pre>
</li>
<li>
<p>在浏览器中打开<code>http://主机IP:9876</code>，修改你的配置，成功</p>
</li>
<li>
<p>[可选] 挂载主机目录, 删除容器后配置不会丢失。可替换 <code>/opt/ddns-go</code> 为有权限访问的目录, 配置文件为隐藏文件</p>
<pre><code class="language-bash">docker run -d --name ddns-go --restart=always --net=host -v /opt/ddns-go:/root jeessy/ddns-go
</code></pre>
</li>
<li>
<p>[可选] 支持启动带参数 <code>-l</code>监听地址 <code>-f</code>间隔时间(秒)</p>
<pre><code class="language-bash">docker run -d --name ddns-go --restart=always --net=host jeessy/ddns-go -l :9877 -f 600
</code></pre>
</li>
</ul>
<h3 id="使用ipv6">使用IPv6</h3>
<ul>
<li>前提：你的电脑或终端能正常获取IPv6，并能正常访问IPv6</li>
<li>Windows/Mac：推荐 <a href="https://registry.hub.docker.com/r/jeessy/ddns-go/#%E7%B3%BB%E7%BB%9F%E4%B8%AD%E4%BD%BF%E7%94%A8">系统中使用</a>，Windows/Mac桌面版的docker不支持<code>--net=host</code></li>
<li>群晖：
<ul>
<li>套件中心下载docker并打开</li>
<li>注册表中搜索<code>ddns-go</code>并下载</li>
<li>映像 -&gt; 选择<code>jeessy/ddns-go</code> -&gt; 启动 -&gt; 高级设置 -&gt; 网络中勾选<code>使用与 Docker Host 相同的网络</code>，高级设置中勾选<code>启动自动重新启动</code></li>
<li>在浏览器中打开<code>http://群晖IP:9876</code>，修改你的配置，成功</li>
</ul>
</li>
<li>Linux的x86或arm架构，推荐使用Docker的<code>--net=host</code>模式。参考 <a href="https://registry.hub.docker.com/r/jeessy/ddns-go/#Docker%E4%B8%AD%E4%BD%BF%E7%94%A8">Docker中使用</a></li>
<li>虚拟机中使用有可能正常获取IPv6，但不能正常访问IPv6</li>
<li>[可选] 使用IPv6后，建议勾选<code>禁止从公网访问</code></li>
</ul>
<h3 id="webhook">Webhook</h3>
<ul>
<li>
<p>支持webhook, 域名更新成功或不成功时, 会回调填写的URL</p>
</li>
<li>
<p>支持的变量</p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>#{ipv4Addr}</td>
<td>新的IPv4地址</td>
</tr>
<tr>
<td>#{ipv4Result}</td>
<td>IPv4地址更新结果: <code>未改变</code> <code>失败</code> <code>成功</code></td>
</tr>
<tr>
<td>#{ipv4Domains}</td>
<td>IPv4的域名，多个以<code>,</code>分割</td>
</tr>
<tr>
<td>#{ipv6Addr}</td>
<td>新的IPv6地址</td>
</tr>
<tr>
<td>#{ipv6Result}</td>
<td>IPv6地址更新结果: <code>未改变</code> <code>失败</code> <code>成功</code></td>
</tr>
<tr>
<td>#{ipv6Domains}</td>
<td>IPv6的域名，多个以<code>,</code>分割</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>RequestBody为空GET请求，不为空POST请求</p>
</li>
<li>
<p>Server酱: <code>https://sc.ftqq.com/[SCKEY].send?text=主人IPv4变了#{ipv4Addr},域名更新结果:#{ipv4Result}</code></p>
</li>
<li>
<p>Bark: <code>https://api.day.app/[YOUR_KEY]/主人IPv4变了#{ipv4Addr},域名更新结果:#{ipv4Result}</code></p>
</li>
<li>
<p>钉钉:</p>
<ul>
<li>钉钉电脑端 -&gt; 群设置 -&gt; 智能群助手 -&gt; 添加机器人 -&gt; 自定义</li>
<li>只勾选 <code>自定义关键词</code>, 输入的关键字必须包含在RequestBody的content中, 如：<code>你的公网IP变了</code></li>
<li>URL中输入钉钉给你的 <code>Webhook地址</code></li>
<li>RequestBody中输入 <code>{&quot;msgtype&quot;: &quot;text&quot;,&quot;text&quot;: {&quot;content&quot;: &quot;你的公网IP变了：#{ipv4Addr}，域名更新结果：#{ipv4Result}&quot;}}</code></li>
</ul>
</li>
</ul>
<h3 id="callback">Callback</h3>
<ul>
<li>
<p>通过自定义回调可支持更多的第三方DNS服务商</p>
</li>
<li>
<p>配置的域名有几行, 就会回调几次</p>
</li>
<li>
<p>支持的变量</p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>#{ip}</td>
<td>新的IPv4/IPv6地址</td>
</tr>
<tr>
<td>#{domain}</td>
<td>当前域名</td>
</tr>
<tr>
<td>#{recordType}</td>
<td>记录类型 <code>A</code>或<code>AAAA</code></td>
</tr>
<tr>
<td>#{ttl}</td>
<td>ttl</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>RequestBody为空GET请求，不为空POST请求</p>
</li>
</ul>
<h3 id="界面">界面</h3>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/jeessy2/ddns-go/master/ddns-web.png" alt="screenshots" loading="lazy"></figure>
<h3 id="开发自行编译">开发&amp;自行编译</h3>
<ul>
<li>如果喜欢从源代码编译自己的版本，可以使用本项目提供的 Makefile 构建</li>
<li>开发环境 golang 1.16</li>
<li>使用 <code>make build</code> 生成本地编译后的 <code>ddns-go</code> 可执行文件</li>
<li>使用 <code>make build_docker_image</code> 自行编译 Docker 镜像</li>
</ul>

          <div class="toc-container"><ul class="markdownIt-TOC">
<li><a href="#%E4%BD%BF%E7%94%A8%E7%9A%84docker">使用的Docker</a>
<ul>
<li><a href="#jeessyddns-go">jeessy/ddns-go</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E5%A5%BD%E7%94%A8%E7%9A%84ddns-%E6%94%AF%E6%8C%81%E9%98%BF%E9%87%8C%E4%BA%91dns-%E8%85%BE%E8%AE%AF%E4%BA%91dnspod-cloudflare-%E5%8D%8E%E4%B8%BA%E4%BA%91">简单好用的DDNS。支持阿里云DNS、腾讯云dnspod、Cloudflare、华为云</a>
<ul>
<li><a href="#ddns-go">ddns-go</a></li>
<li><a href="#%E7%89%B9%E6%80%A7">特性</a></li>
<li><a href="#%E7%B3%BB%E7%BB%9F%E4%B8%AD%E4%BD%BF%E7%94%A8">系统中使用</a></li>
<li><a href="#docker%E4%B8%AD%E4%BD%BF%E7%94%A8">Docker中使用</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8ipv6">使用IPv6</a></li>
<li><a href="#webhook">Webhook</a></li>
<li><a href="#callback">Callback</a></li>
<li><a href="#%E7%95%8C%E9%9D%A2">界面</a></li>
<li><a href="#%E5%BC%80%E5%8F%91%E8%87%AA%E8%A1%8C%E7%BC%96%E8%AF%91">开发&amp;自行编译</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
          
          <hr />
          <p class="next-post">下一篇：
            <a href="https://amiao.ioxoo.top/post/unraid-docker-an-zhuang-qing-long-mian-ban-he-wu-fa-fang-wen-de-jie-jue-fang-fa/">
              <span class="post-title">
                Unraid Docker安装青龙面板和无法访问的解决方法&rarr;
              </span>
            </a>
          </p>
          
          <div class="comment" style="text-align: center;">
            

            
            
          </div>
        </div>
      </div>
  </article>
  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <!-- <li class="list-inline-item">
              <a href="https://amiao.ioxoo.top/atom.xml" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              </li> -->
          </ul>
          <p class="copyright text-muted">Copyright &copy;<span>Gridea</span><br><a href="https://github.com/getgridea/gridea" class="Themeinfo">Powered by Gridea</a></p>
        </div>
      </div>
    </div>
   </footer>
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
  <!-- <script src="https://amiao.ioxoo.top/media/scripts/bootstrap.bundle.min.js"></script> -->
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.jsdelivr.net/gh/Alanrk/clean-cdn@1.0/scripts/clean-blog.min.js"></script>
  <!-- <script src="https://amiao.ioxoo.top/media/scripts/clean-blog.min.js"></script> -->
  <script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
  <style type="text/css">a.back_to_top{text-decoration:none;position:fixed;bottom:40px;right:30px;background:#f0f0f0;height:40px;width:40px;border-radius:50%;line-height:36px;font-size:18px;text-align:center;transition-duration:.5s;transition-propety:background-color;display:none}a.back_to_top span{color:#888}a.back_to_top:hover{cursor:pointer;background:#dfdfdf}a.back_to_top:hover span{color:#555}@media print,screen and(max-width:580px){.back_to_top{display:none!important}}</style>
<a id="back_to_top" href="#" class="back_to_top">
  <span>▲</span></a>
<script>$(document).ready((function(_this) {
    return function() {
      var bt;
      bt = $('#back_to_top');
      if ($(document).width() > 480) {
        $(window).scroll(function() {
          var st;
          st = $(window).scrollTop();
          if (st > 30) {
            return bt.css('display', 'block')
          } else {
            return bt.css('display', 'none')
          }
        });
        return bt.click(function() {
          $('body,html').animate({
            scrollTop: 0
          },
          800);
          return false
        })
      }
    }
  })(this));</script>
  
  <script src="https://amiao.ioxoo.top/media/scripts/tocScript.js"></script>
</body>

</html>